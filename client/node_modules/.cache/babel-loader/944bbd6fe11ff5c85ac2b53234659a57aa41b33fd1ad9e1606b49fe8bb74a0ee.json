{"ast":null,"code":"var _jsxFileName = \"/home/joni/Documents/InfoSystemsProject/front_part/src/Projects.js\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { BrowserRouter as Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleTable = id => e => {\n      axios.post(\"http://127.0.0.1:5000/project_add\", {\n        name: this.state.value,\n        id: id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n    this.handleDelete = project_id => e => {\n      console.log(project_id);\n      axios.post(`http://127.0.0.1:5000/projects/delete_project`, {\n        id: project_id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n    this.handleOnChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n    this.state = {\n      value: \"\",\n      list: [],\n      table: [0, 1, 2, 3]\n    };\n  }\n  printState() {\n    let l = [{\n      number: 0,\n      time: \"--\"\n    }, {\n      number: 1,\n      time: \"--\"\n    }, {\n      number: 2,\n      time: \"--\"\n    }, {\n      number: 3,\n      time: \"--\"\n    }];\n    console.log(l);\n    for (let i = 0; i < this.state.table.length; i++) {\n      console.log(i);\n      if (this.state.list.find(k => k.number == i) !== undefined) {\n        l[i] = {\n          number: i,\n          time: this.state.list.find(k => k.number == i).time\n        };\n      }\n    }\n    console.log(l);\n    let a = this.state.table.map(value => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"MyLi\",\n      children: [\"номер стола \" + (value + 1), \",\", \"зарезервовано з:\" + l.find(i => i.number == value).time, /*#__PURE__*/_jsxDEV(Table, {\n        disabled: l.find(i => i.number == value).time != \"--\",\n        onClick: this.handleTable(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MyButton_del, {\n        onClick: this.handleDelete(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)]\n    }, value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this));\n    l = [];\n    return a;\n  }\n  jsonDataFromFlask() {\n    axios.get('http://127.0.0.1:5000/').then(resp => resp.data).then(data => {\n      if (data.data) {\n        console.log(data);\n        this.setState({\n          list: data.data\n        });\n        console.log(this.state.list);\n      } else {\n        window.location.href = '/login';\n      }\n    });\n    // axios.get('http://127.0.0.1:5000/').then(resp => {\n    // console.log(resp.data.data[0])\n    // });\n  }\n\n  componentDidMount() {\n    //    fetch('http://192.168.1.104:5000/json')\n    //    .then(response => response.json())\n    //    .then(data => this.setState({list: data.items.map((i) =>\n    //      i.text\n    //       )\n    // }))\n\n    this.jsonDataFromFlask();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Project\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u0431\\u0430\\u0436\\u0430\\u043D\\u0438\\u0439 \\u0447\\u0430\\u0441 \\u0434\\u043B\\u044F \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0456\\u0457\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: this.handleOnChange,\n          value: this.state.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"MyUl\",\n        children: this.printState()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass MyButton extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"MyButton\",\n      onClick: this.props.onClick,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this);\n  }\n}\nclass Table extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: this.props.disabled,\n      style: {\n        backgroundColor: 'transparent',\n        width: \"90px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"80px\"\n        },\n        src: \"table2.png\",\n        alt: \"my imag\",\n        onClick: this.props.onClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 106\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 12\n    }, this);\n  }\n}\nclass MyButton_del extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.props.onClick,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 12\n    }, this);\n  }\n}\nclass Input extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"MyInput\",\n      onChange: this.props.onChange,\n      value: this.props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Projects;","map":{"version":3,"names":["React","Component","axios","BrowserRouter","Link","Projects","constructor","props","handleTable","id","e","post","name","state","value","then","jsonDataFromFlask","printState","setState","handleDelete","project_id","console","log","handleOnChange","target","list","table","l","number","time","i","length","find","k","undefined","a","map","get","resp","data","window","location","href","componentDidMount","render","MyButton","onClick","Table","disabled","backgroundColor","width","MyButton_del","Input","onChange"],"sources":["/home/joni/Documents/InfoSystemsProject/front_part/src/Projects.js"],"sourcesContent":["\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { BrowserRouter as  Link } from \"react-router-dom\";\n\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: \"\", list: [],table:[0,1,2,3] };\n  }\n\n  printState() {\n\n      let l = [{number:0,time:\"--\"},{number:1,time:\"--\"},{number:2,time:\"--\"},{number:3,time:\"--\"}]\n      console.log(l)\n      for(let i=0;i<this.state.table.length;i++){\n        console.log(i)\n        if (this.state.list.find(k=>k.number==i)!==undefined){\n          l[i]={number:i,time:this.state.list.find(k=>k.number==i).time}\n        } \n      }\n      console.log(l)\n      let a = this.state.table.map((value) => (\n      <li key={value} className=\"MyLi\">{\"номер стола \"+(value+1)},{\"зарезервовано з:\"+l.find(i=>i.number==value).time}\n      <Table disabled={l.find(i=>i.number==value).time!=\"--\"} onClick={this.handleTable(value)} />\n      <MyButton_del onClick={this.handleDelete(value)} />\n      </li>)\n      )\n      l=[]\n      return (a);\n    \n  }\n\n  jsonDataFromFlask() {\n    axios.get('http://127.0.0.1:5000/')\n      .then((resp) => resp.data)\n      .then((data) => {\n        if(data.data){\n          console.log(data)\n        this.setState({ list: data.data })\n        console.log(this.state.list)\n      }\n      else {\n        window.location.href = '/login'\n      }\n      });\n      // axios.get('http://127.0.0.1:5000/').then(resp => {\n      // console.log(resp.data.data[0])\n// });\n  }\n\n  handleTable =id=> (e) => {\n    axios.post(\"http://127.0.0.1:5000/project_add\", { name: this.state.value,id:id })\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n       .then(() => {\n         this.setState({ value: \"\" });\n       });\n   };\n  handleDelete =project_id => e => {\n    console.log(project_id)\n    axios.post(`http://127.0.0.1:5000/projects/delete_project`,{id:project_id})\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n       .then(() => {\n         this.setState({ value: \"\" });\n       });\n   };\n\n  // this.jsonDataFromFlask()\n\n  // this.printState()\n\n  handleOnChange = (e) => {\n    this.setState({ value: e.target.value });\n\n  };\n\n  componentDidMount() {\n    //    fetch('http://192.168.1.104:5000/json')\n    //    .then(response => response.json())\n    //    .then(data => this.setState({list: data.items.map((i) =>\n    //      i.text\n    //       )\n    // }))\n\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"Project\" >\n        <h2 >Введіть бажаний час для резервації</h2>\n        <Input onChange={this.handleOnChange} value={this.state.value} />\n        </div>\n        <ul className=\"MyUl\">\n        {this.printState()}\n        </ul>\n        </div>\n    );\n  }\n}\n\nclass MyButton extends React.Component {\n  render() {\n  \n    return <button className=\"MyButton\" onClick={this.props.onClick}>Submit</button>;\n  }\n}\nclass Table extends React.Component {\n  render() {\n    return <button disabled={this.props.disabled} style={{backgroundColor: 'transparent', width:\"90px\"}}><img style={{width:\"80px\"}} src=\"table2.png\" alt=\"my imag\" onClick={this.props.onClick} /></button>\n  }\n}\n\nclass MyButton_del extends React.Component {\n  render() {\n    return <button  onClick={this.props.onClick}>X</button>;\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    return (\n      <input className=\"MyInput\" onChange={this.props.onChange} value={this.props.value}></input>\n    );\n  }\n}\n\n\nexport default Projects;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}