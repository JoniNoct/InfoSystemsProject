{"ast":null,"code":"var _jsxFileName = \"/home/joni/Documents/InfoSystemsProject/front_part/src/Items.js\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Items extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/item_add`, {\n        item: this.state.value,\n        project_id: this.props.match.params.id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n\n    this.handleDelete = ite => e => {\n      console.log(ite);\n      axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/delete_item`, {\n        item: ite\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      });\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n\n    this.state = {\n      value: \"\",\n      list: []\n    };\n  }\n\n  jsonDataFromFlask() {\n    axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(response => response.data).then(data => this.setState({\n      list: data.items.map(i => i.item)\n    })); //       axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(resp => {\n    // console.log(resp.data)\n    // });\n  }\n\n  printState() {\n    console.log(this.state);\n    let a = this.state.list.map(value => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\" \", value, /*#__PURE__*/_jsxDEV(MyButton_del, {\n        onClick: this.handleDelete(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)]\n    }, value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 44\n    }, this));\n    return a;\n  }\n\n  componentDidMount() {\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Project\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: this.handleOnChange,\n          value: this.state.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n          onClick: this.handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"MyUl\",\n          children: this.printState()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass MyButton extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"MyButton\",\n      onClick: this.props.onClick,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass MyButton_del extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.props.onClick,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass Input extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"MyInput\",\n      onChange: this.props.onChange,\n      value: this.props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Items;","map":{"version":3,"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","axios","Items","constructor","props","handleSubmit","e","post","match","params","id","item","state","value","project_id","then","jsonDataFromFlask","printState","setState","handleDelete","ite","console","log","handleOnChange","target","list","get","response","data","items","map","i","a","componentDidMount","render","MyButton","onClick","MyButton_del","Input","onChange"],"sources":["/home/joni/Documents/InfoSystemsProject/front_part/src/Items.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nclass Items extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: \"\", list: [] };\n  }\n\n  jsonDataFromFlask() {\n    axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`)\n      .then((response) => response.data)\n      .then((data) => this.setState({ list: data.items.map((i) => i.item) }));\n      //       axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(resp => {\n      // console.log(resp.data)\n// });\n  }\n\n  handleSubmit = (e) => {\n    axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/item_add`, { item: this.state.value ,project_id: this.props.match.params.id})\n      .then(() => {\n        this.jsonDataFromFlask();\n      })\n      .then(() => {\n        this.printState();\n      })\n      .then(() => {\n        this.setState({ value: \"\" });\n      });\n  };\n  handleDelete =ite => e => {\n    console.log(ite)\n    axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/delete_item`,{item:ite})\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n   };\n\n  handleOnChange = (e) => {\n    this.setState({ value: e.target.value });\n    \n  };\n\n  printState() {\n    console.log(this.state)\n    let a = this.state.list.map((value) => <li key={value}> {value} \n    <MyButton_del onClick={this.handleDelete(value)} />\n    </li>);\n   \n    return a;\n  }\n\n  componentDidMount() {\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n\n    return (\n      <div>\n        <div className=\"Project\" >\n        <h2 >Items</h2>\n        <Input onChange={this.handleOnChange} value={this.state.value} />\n        <MyButton onClick={this.handleSubmit} />\n        <ul className=\"MyUl\">\n        {this.printState()}\n        </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass MyButton extends React.Component {\n  render() {\n    return <button className=\"MyButton\" onClick={this.props.onClick}>Submit</button>;\n  }\n}\nclass MyButton_del extends React.Component {\n  render() {\n    return <button  onClick={this.props.onClick}>X</button>;\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    return (\n      <input className=\"MyInput\" onChange={this.props.onChange} value={this.props.value}></input>\n    );\n  }\n}\n\nexport default Items;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}