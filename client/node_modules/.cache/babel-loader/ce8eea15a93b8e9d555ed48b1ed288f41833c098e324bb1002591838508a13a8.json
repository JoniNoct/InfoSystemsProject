{"ast":null,"code":"var _jsxFileName = \"/home/joni/Documents/InfoSystemsProject/front_part/src/Items.js\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Items extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = e => {\n      axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/item_add`, {\n        item: this.state.value,\n        project_id: this.props.match.params.id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n    this.handleDelete = ite => e => {\n      console.log(ite);\n      axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/delete_item`, {\n        item: ite\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      });\n    };\n    this.handleOnChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n    this.state = {\n      value: \"\",\n      list: []\n    };\n  }\n  jsonDataFromFlask() {\n    axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(response => response.data).then(data => this.setState({\n      list: data.items.map(i => i.item)\n    }));\n    //       axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(resp => {\n    // console.log(resp.data)\n    // });\n  }\n\n  printState() {\n    console.log(this.state);\n    let a = this.state.list.map(value => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\" \", value, /*#__PURE__*/_jsxDEV(MyButton_del, {\n        onClick: this.handleDelete(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)]\n    }, value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 44\n    }, this));\n    return a;\n  }\n  componentDidMount() {\n    this.jsonDataFromFlask();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Project\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: this.handleOnChange,\n          value: this.state.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n          onClick: this.handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"MyUl\",\n          children: this.printState()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass MyButton extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"MyButton\",\n      onClick: this.props.onClick,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }, this);\n  }\n}\nclass MyButton_del extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.props.onClick,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  }\n}\nclass Input extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"MyInput\",\n      onChange: this.props.onChange,\n      value: this.props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Items;","map":{"version":3,"names":["logo","React","Component","BrowserRouter","Router","Switch","Route","Link","axios","Items","constructor","props","handleSubmit","e","post","match","params","id","item","state","value","project_id","then","jsonDataFromFlask","printState","setState","handleDelete","ite","console","log","handleOnChange","target","list","get","response","data","items","map","i","a","componentDidMount","render","MyButton","onClick","MyButton_del","Input","onChange"],"sources":["/home/joni/Documents/InfoSystemsProject/front_part/src/Items.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nclass Items extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: \"\", list: [] };\n  }\n\n  jsonDataFromFlask() {\n    axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`)\n      .then((response) => response.data)\n      .then((data) => this.setState({ list: data.items.map((i) => i.item) }));\n      //       axios.get(`http://127.0.0.1:5000/projects/${this.props.match.params.id}`).then(resp => {\n      // console.log(resp.data)\n// });\n  }\n\n  handleSubmit = (e) => {\n    axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/item_add`, { item: this.state.value ,project_id: this.props.match.params.id})\n      .then(() => {\n        this.jsonDataFromFlask();\n      })\n      .then(() => {\n        this.printState();\n      })\n      .then(() => {\n        this.setState({ value: \"\" });\n      });\n  };\n  handleDelete =ite => e => {\n    console.log(ite)\n    axios.post(`http://127.0.0.1:5000/projects/${this.props.match.params.id}/delete_item`,{item:ite})\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n   };\n\n  handleOnChange = (e) => {\n    this.setState({ value: e.target.value });\n    \n  };\n\n  printState() {\n    console.log(this.state)\n    let a = this.state.list.map((value) => <li key={value}> {value} \n    <MyButton_del onClick={this.handleDelete(value)} />\n    </li>);\n   \n    return a;\n  }\n\n  componentDidMount() {\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n\n    return (\n      <div>\n        <div className=\"Project\" >\n        <h2 >Items</h2>\n        <Input onChange={this.handleOnChange} value={this.state.value} />\n        <MyButton onClick={this.handleSubmit} />\n        <ul className=\"MyUl\">\n        {this.printState()}\n        </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass MyButton extends React.Component {\n  render() {\n    return <button className=\"MyButton\" onClick={this.props.onClick}>Submit</button>;\n  }\n}\nclass MyButton_del extends React.Component {\n  render() {\n    return <button  onClick={this.props.onClick}>X</button>;\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    return (\n      <input className=\"MyInput\" onChange={this.props.onChange} value={this.props.value}></input>\n    );\n  }\n}\n\nexport default Items;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}