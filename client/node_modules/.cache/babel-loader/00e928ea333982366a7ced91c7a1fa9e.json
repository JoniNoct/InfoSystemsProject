{"ast":null,"code":"var _jsxFileName = \"/home/joni/Documents/InfoSystemsProject/front_part/src/Projects.js\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { BrowserRouter as Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleTable = id => e => {\n      axios.post(\"http://127.0.0.1:5000/project_add\", {\n        name: this.state.value,\n        id: id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n\n    this.handleDelete = project_id => e => {\n      console.log(project_id);\n      axios.post(`http://127.0.0.1:5000/projects/delete_project`, {\n        id: project_id\n      }).then(() => {\n        this.jsonDataFromFlask();\n      }).then(() => {\n        this.printState();\n      }).then(() => {\n        this.setState({\n          value: \"\"\n        });\n      });\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n\n    this.state = {\n      value: \"\",\n      list: [],\n      table: [0, 1, 2, 3]\n    };\n  }\n\n  printState() {\n    let l = [{\n      number: 0,\n      time: \"--\"\n    }, {\n      number: 1,\n      time: \"--\"\n    }, {\n      number: 2,\n      time: \"--\"\n    }, {\n      number: 3,\n      time: \"--\"\n    }];\n    console.log(l);\n\n    for (let i = 0; i < this.state.table.length; i++) {\n      console.log(i);\n\n      if (this.state.list.find(k => k.number == i) !== undefined) {\n        l[i] = {\n          number: i,\n          time: this.state.list.find(k => k.number == i).time\n        };\n      }\n    }\n\n    console.log(l);\n    let a = this.state.table.map(value => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"MyLi\",\n      children: [\"номер стола \" + (value + 1), \",\", \"зарезервовано з:\" + l.find(i => i.number == value).time, /*#__PURE__*/_jsxDEV(Table, {\n        disabled: l.find(i => i.number == value).time != \"--\",\n        onClick: this.handleTable(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MyButton_del, {\n        onClick: this.handleDelete(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)]\n    }, value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this));\n    l = [];\n    return a;\n  }\n\n  jsonDataFromFlask() {\n    axios.get('http://127.0.0.1:5000/').then(resp => resp.data).then(data => {\n      if (data.data) {\n        console.log(data);\n        this.setState({\n          list: data.data\n        });\n        console.log(this.state.list);\n      } else {\n        window.location.href = '/login';\n      }\n    }); // axios.get('http://127.0.0.1:5000/').then(resp => {\n    // console.log(resp.data.data[0])\n    // });\n  }\n\n  componentDidMount() {\n    //    fetch('http://192.168.1.104:5000/json')\n    //    .then(response => response.json())\n    //    .then(data => this.setState({list: data.items.map((i) =>\n    //      i.text\n    //       )\n    // }))\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Project\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u0431\\u0430\\u0436\\u0430\\u043D\\u0438\\u0439 \\u0447\\u0430\\u0441 \\u0434\\u043B\\u044F \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\\u0430\\u0446\\u0456\\u0457\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: this.handleOnChange,\n          value: this.state.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"MyUl\",\n        children: this.printState()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass MyButton extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"MyButton\",\n      onClick: this.props.onClick,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass Table extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: this.props.disabled,\n      style: {\n        backgroundColor: 'transparent',\n        width: \"90px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"80px\"\n        },\n        src: \"table2.png\",\n        alt: \"my imag\",\n        onClick: this.props.onClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 106\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass MyButton_del extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.props.onClick,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass Input extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"MyInput\",\n      onChange: this.props.onChange,\n      value: this.props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Projects;","map":{"version":3,"names":["React","Component","axios","BrowserRouter","Link","Projects","constructor","props","handleTable","id","e","post","name","state","value","then","jsonDataFromFlask","printState","setState","handleDelete","project_id","console","log","handleOnChange","target","list","table","l","number","time","i","length","find","k","undefined","a","map","get","resp","data","window","location","href","componentDidMount","render","MyButton","onClick","Table","disabled","backgroundColor","width","MyButton_del","Input","onChange"],"sources":["/home/joni/Documents/InfoSystemsProject/front_part/src/Projects.js"],"sourcesContent":["\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { BrowserRouter as  Link } from \"react-router-dom\";\n\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: \"\", list: [],table:[0,1,2,3] };\n  }\n\n  printState() {\n\n      let l = [{number:0,time:\"--\"},{number:1,time:\"--\"},{number:2,time:\"--\"},{number:3,time:\"--\"}]\n      console.log(l)\n      for(let i=0;i<this.state.table.length;i++){\n        console.log(i)\n        if (this.state.list.find(k=>k.number==i)!==undefined){\n          l[i]={number:i,time:this.state.list.find(k=>k.number==i).time}\n        } \n      }\n      console.log(l)\n      let a = this.state.table.map((value) => (\n      <li key={value} className=\"MyLi\">{\"номер стола \"+(value+1)},{\"зарезервовано з:\"+l.find(i=>i.number==value).time}\n      <Table disabled={l.find(i=>i.number==value).time!=\"--\"} onClick={this.handleTable(value)} />\n      <MyButton_del onClick={this.handleDelete(value)} />\n      </li>)\n      )\n      l=[]\n      return (a);\n    \n  }\n\n  jsonDataFromFlask() {\n    axios.get('http://127.0.0.1:5000/')\n      .then((resp) => resp.data)\n      .then((data) => {\n        if(data.data){\n          console.log(data)\n        this.setState({ list: data.data })\n        console.log(this.state.list)\n      }\n      else {\n        window.location.href = '/login'\n      }\n      });\n      // axios.get('http://127.0.0.1:5000/').then(resp => {\n      // console.log(resp.data.data[0])\n// });\n  }\n\n  handleTable =id=> (e) => {\n    axios.post(\"http://127.0.0.1:5000/project_add\", { name: this.state.value,id:id })\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n       .then(() => {\n         this.setState({ value: \"\" });\n       });\n   };\n  handleDelete =project_id => e => {\n    console.log(project_id)\n    axios.post(`http://127.0.0.1:5000/projects/delete_project`,{id:project_id})\n       .then(() => {\n         this.jsonDataFromFlask();\n       })\n       .then(() => {\n         this.printState();\n       })\n       .then(() => {\n         this.setState({ value: \"\" });\n       });\n   };\n\n  // this.jsonDataFromFlask()\n\n  // this.printState()\n\n  handleOnChange = (e) => {\n    this.setState({ value: e.target.value });\n\n  };\n\n  componentDidMount() {\n    //    fetch('http://192.168.1.104:5000/json')\n    //    .then(response => response.json())\n    //    .then(data => this.setState({list: data.items.map((i) =>\n    //      i.text\n    //       )\n    // }))\n\n    this.jsonDataFromFlask();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"Project\" >\n        <h2 >Введіть бажаний час для резервації</h2>\n        <Input onChange={this.handleOnChange} value={this.state.value} />\n        </div>\n        <ul className=\"MyUl\">\n        {this.printState()}\n        </ul>\n        </div>\n    );\n  }\n}\n\nclass MyButton extends React.Component {\n  render() {\n  \n    return <button className=\"MyButton\" onClick={this.props.onClick}>Submit</button>;\n  }\n}\nclass Table extends React.Component {\n  render() {\n    return <button disabled={this.props.disabled} style={{backgroundColor: 'transparent', width:\"90px\"}}><img style={{width:\"80px\"}} src=\"table2.png\" alt=\"my imag\" onClick={this.props.onClick} /></button>\n  }\n}\n\nclass MyButton_del extends React.Component {\n  render() {\n    return <button  onClick={this.props.onClick}>X</button>;\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    return (\n      <input className=\"MyInput\" onChange={this.props.onChange} value={this.props.value}></input>\n    );\n  }\n}\n\n\nexport default Projects;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}